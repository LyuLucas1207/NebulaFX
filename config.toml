[server]
    name = "NebulaFX"
    host = "0.0.0.0"
    port = 9000
    server_domains = []
    region = ""
    volumes = "/deploy/data/pro{1...8}"
    cors_allowed_origins = "*"
    console_cors_allowed_origins = "*"
    access_key = "nebulafxadmin"
    secret_key = "nebulafxadmin"
    root_user = "nebulafxadmin"
    root_password = "nebulafxadmin"

[database]
    host = "postgres"
    port = 5432
    user = "postgres"
    password = "Lucas127."
    database = "nebulafx"
    schema = "nebulafx"
    charset = "utf8mb4"
    parse_time = true
    loc = "Local"
    logger_level = "warn"
    auto_migrate = false

    [database.connection]
        timeout = "5s"
        max_retries = 5
        retry_interval = "2s"
        max_idle_connections = 10
        max_open_connections = 100
        conn_max_idle_time = "15m"
        conn_max_lifetime = "1h"

[storage]
    base_path = "/deploy/data/pro"

[tls]
    path = "/opt/tls"
    key_file = "nebulafx_key.pem"
    cert_file = "nebulafx_cert.pem"

[observability]
    use_stdout = true
    service_name = "NebulaFX"
    service_version = "0.0.5"
    environment = "production"
    logger_level = "error"
    log_stdout_enabled = false
    log_directory = "/app/logs"
    log_filename = "nebulafx"
    log_rotation_size_mb = 100
    log_rotation_time = "hour"
    log_keep_files = 30
    # Async logging configurations
    log_pool_capa = 10240
    log_message_capa = 32768
    log_flush_ms = 200
    # Output format configurations
    log_json = false

[profiling]
    # Enable profiling system (default: false)
    enabled = false
    # Output directory for profiling reports (default: "./profiles")
    # Use absolute path for production, e.g., "/app/profiles" or "./profiles" for relative path
    output_dir = "/app/profiles"
    # CPU profiling mode: "off", "continuous", or "periodic" (default: "off")
    cpu_mode = "off"
    # CPU profiling frequency in Hz (default: 100)
    cpu_freq = 100
    # CPU profiling interval in seconds for periodic mode (default: 60)
    cpu_interval_secs = 60
    # CPU profiling duration in seconds for periodic mode (default: 10)
    cpu_duration_secs = 10
    # Enable periodic memory profiling (default: false)
    mem_periodic = false
    # Memory profiling interval in seconds (default: 300)
    mem_interval_secs = 300

[runtime]
    # Number of worker threads (default: auto-detect CPU cores)
    worker_threads = 16
    # Maximum number of blocking threads (default: calculated based on CPU cores)
    max_blocking_threads = 1024
    # Thread stack size in bytes (default: 1 MiB for release, 2 MiB for debug/macOS)
    thread_stack_size = 1048576
    # Thread keep alive duration in seconds (default: 60)
    thread_keep_alive = 60
    # Global queue interval (default: 31)
    global_queue_interval = 31
    # Thread name prefix (default: "nebulafx-worker")
    thread_name = "nebulafx-worker"
    # Maximum I/O events per tick (default: 1024)
    max_io_events_per_tick = 1024
    # Event interval (default: 61)
    event_interval = 61
    # Enable thread start/stop logging (default: false)
    thread_print_enabled = false